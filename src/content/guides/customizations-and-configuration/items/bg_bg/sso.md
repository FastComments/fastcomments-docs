SSO, или единно влизане (single-sign-on), е набор от конвенции, използвани за да позволят на вас или вашите потребители да използват FastComments без да се налага да създават още един акаунт.

Ако не позволявате анонимни коментари, акаунт е задължителен за коментиране с FastComments. Правим процеса на регистрация много лесен - потребителят просто оставя своя имейл, когато коментира.
Разбираме обаче, че дори това може да е излишно препятствие, което някои сайтове искат да избегнат.

Можем да намалим това препятствие, като имате само един поток за влизане за целия си сайт.

### How do I get it?
Всички типове акаунти в момента имат достъп до SSO. Въпреки това максималният брой SSO потребители ще варира в зависимост от вашия пакет. Както при другите функции, Pro плановете и по-високите предоставят директна разработчикова поддръжка.

Нека сравним опциите и после да разгледаме детайлите на всяка от тях.

### User and Comment Migrations

Когато мигрирате от платформа със SSO като Disqus, вече ще имате потребители и техните коментари.

Коментарите се импортират като част от вашата миграция, или чрез API-то, нашия Import UI, или чрез поддръжката на клиенти. Import UI е предпочитан, ако поддържа платформата, от която мигрирате, тъй като включва обработка на грешки, извличане и качване на аватари и медии и система за наблюдение на пакетни задачи.

Самите потребители се добавят автоматично при първото разглеждане на нишки с коментари. Като алтернатива, те могат да бъдат предварително добавени чрез API-то, но тази работа няма много предимства.

Ако коментарите са импортирани и SSO потребителите не са добавени ръчно чрез API-то, тогава коментарите автоматично ще бъдат мигрирани към акаунта на потребителя при първото му създаване, когато разгледа някоя нишка с коментари. След това те ще могат да управляват, редактират и изтриват коментарите, които първоначално са написали.

Автоматичната миграция се прави чрез имейл или потребителско име. Някои платформи не предоставят имейли при експорта, като Disqus, така че в този случай използваме потребителското име.
- Докато подадете съвпадащо потребителско име и имейл в SSO payload, ние ще добавим имейла към отделните обекти на коментарите, така че уведомленията и споменаванията да работят.

Ако желаете да импортирате коментарите и потребителите едновременно, работете с поддръжката, за да мигрирате коментарите към съответните акаунти на потребителите след като потребителите бъдат импортирани чрез API-то.

Като обобщение, най-лесният път за миграция е:

1. Import comments.
   1. Аватарите и другите медии се мигрират автоматично ако използвате Import UI в `Manage Data -> Imports`.
2. Настройте Secure или Simple SSO.
3. Оставете миграцията да се случи по потребител автоматично при първото им влизане.
   1. Това обикновено добавя по-малко от секунда към времето за зареждане на страницата, ако потребителят има по-малко от 50k коментара.

### WordPress Users
Ако използвате нашия <a href="https://wordpress.org/plugins/fastcomments/" target="_blank">WordPress плъгин</a>, няма код за писане! Просто отидете на административната страница на плъгина, кликнете върху SSO Settings, и после Enable.

Това ще ви отведе до съветник с еднократно натискане на бутон, който ще създаде вашия API ключ, ще го изпрати към вашата WordPress инсталация и ще включи SSO. Консолидирали сме това в едно натискане на бутон за ваше улеснение.

Имайте предвид, че ако инсталирате плъгина за първи път ще трябва да завършите процеса на настройка преди да видите административната страница с бутона SSO Settings.

#### WordPress SSO - Moderators

Имайте предвид, че в момента, за да се покаже бейджът "Moderator" до вашите модератори когато коментират с FastComments WordPress плъгина,
те също трябва да бъдат добавени като Moderator в таблото за управление на FastComments и техният имейл трябва да бъде верифициран.

### Custom Integrations

За потребителски интеграции има две опции.

### Option One - Secure SSO

С Secure SSO, FastComments знае, че потребителят, който коментира, гласува и чете коментари е реален потребител на вашия сайт.

Докато създадете валидна payload, потребителят винаги ще има безпроблемно изживяване при коментиране.

С Secure SSO, SSO payload се създава **от страна на сървъра** използвайки HMAC автентикация и след това се предава към widget-а на **клиента**.

С Secure SSO, акаунтът на потребителя е **напълно отделен** от останалата база потребители на FastComments. Това означава, че ако имаме двама партньори Company A и Company B, всеки може да има SSO потребител с потребителско име "Bob".

#### Requirements
- Някои базови познания в бекенд разработка.
- Някои базови познания при работа с тайни API ключове.
- Някои базови познания относно разработка на API или рендериране от страна на сървъра.

#### Pros
- Сигурно.
- Безшевно изживяване при коментиране.

#### Cons
- Изисква бекенд разработка.

#### Updating User Data

С Secure SSO, всеки път когато подадете sso user payload, ние ще обновим техния потребител с последната информация. Например, ако потребителят има потребителско име `X`, и в SSO payload подадете `Y`, неговото потребителско име ще стане `Y`.

Ако искате да премахнете стойности използвайки този подход, задайте ги на `null` (не на `undefined`).

#### Secure SSO API

Ние също предоставяме API за взаимодействие със SSO потребителите. Вижте [the docs](/guide-api.html#sso-user-structure).

Имайте предвид, че при използване на Secure SSO, потребителите се създават автоматично зад кулисите при зареждане на страницата. Не е необходимо да правите масов импорт на вашите потребители.

### Option Two - Simple SSO

Алтернативата на Secure SSO е просто да подадете информацията за потребителя към widget-а за коментари.

Подаването на имейл при Simple SSO не е задължително, но без него техните коментари ще се показват като "Unverified".

<sup>Забележка!</sup> От началото на 2022 г. потребителските имена при Simple SSO не е нужно да са уникални в целия FastComments.com.

Идеално би било Simple SSO да се избира само при разработка на платформа, която не предоставя достъп до бекенда.

#### Requirements
- Някои базови познания по клиентска разработка.
- Трябва да знаете поне имейла на потребителя.

#### Pros
- Просто.
- Всяка активност все още се верифицира.
- Потребителят никога не въвежда своето потребителско име или имейл.

#### Cons
- По-малко сигурно от Secure SSO, тъй като payload-ът от страна на клиента може да бъде създаден така, че да се представя за всеки потребител.

#### Simple SSO API

Потребителите, създадени автоматично чрез Simple SSO потока, се съхраняват като `SSOUser` обекти. Те могат да бъдат достъпвани и управлявани чрез `SSOUser` API. Вижте [the docs](/guide-api.html#sso-user-structure).