SSO, або єдиний вхід, — це набір конвенцій, що дозволяє вам або вашим користувачам використовувати FastComments без необхідності створювати ще один акаунт.

Якщо ви не дозволяєте анонімні коментарі, для коментування з FastComments потрібен акаунт. Ми робимо процес реєстрації дуже простим — користувач просто залишає свою електронну пошту під час коментування.
Однак ми розуміємо, що навіть це може бути зайвим тертям, якого деякі сайти прагнуть уникнути.

Ми можемо зменшити це тертя, маючи лише один потік входу для всього вашого сайту.

### How do I get it?
Всі типи акаунтів наразі отримують доступ до SSO. Проте максимальна кількість користувачів SSO буде відрізнятися залежно від вашого пакету. Як і з іншими функціями, плани Pro і вище надають пряму підтримку розробників.

Давайте порівняємо варіанти, а потім детальніше розберемо кожен.

### User and Comment Migrations

Під час міграції з платформи з SSO, як-от Disqus, у вас вже будуть користувачі та їхні коментарі.

Коментарі імпортуються як частина вашої міграції — або через API, наш Import UI, або через підтримку клієнтів. Import UI є пріоритетним, якщо він підтримує платформу, з якої ви мігруєте, оскільки він включає обробку помилок, витяг та завантаження аватарів і медіа, а також систему моніторингу пакетних завдань.

Користувачі додаються автоматично при першому перегляді ниток коментарів. Альтернативно, їх можна додати заздалегідь через API, але це не дає багато переваг.

Якщо коментарі імпортовано, а користувачі SSO не додані вручну через API, то коментарі автоматично будуть переміщені до акаунта користувача при першому створенні акаунта, коли він перегляне будь-яку нитку коментарів. Після цього вони зможуть керувати, редагувати та видаляти коментарі, які вони спочатку написали.

Автоматична міграція здійснюється за електронною поштою або ім'ям користувача. Деякі платформи не надають електронні адреси при експорті, як-от Disqus, тому в такому випадку ми повертаємося до імені користувача.
- Поки ви передаєте відповідне ім'я користувача і електронну пошту в SSO payload, ми додамо електронну пошту до окремих об'єктів коментарів, щоб працювали сповіщення та згадки.

Якщо бажано імпортувати коментарі та користувачів одночасно, працюйте з підтримкою, щоб перенести коментарі до відповідних акаунтів користувачів після імпорту користувачів через API.

Отже, щоб підсумувати, найпростіший шлях міграції такий:

1. Імпортуйте коментарі.
   1. Аватари та інші медіа мігруються автоматично, якщо використовувати Import UI в `Manage Data -> Imports`.
2. Налаштуйте Secure або Simple SSO.
3. Дозвольте міграції відбуватися автоматично для кожного користувача при їхньому першому вході.
   1. Це зазвичай додає менше секунди до часу завантаження сторінки, якщо у користувача менше ніж 50k коментарів.

### WordPress Users
Якщо ви використовуєте наш <a href="https://wordpress.org/plugins/fastcomments/" target="_blank">плагін WordPress</a>, то писати код не потрібно! Просто перейдіть на сторінку адміністрування плагіна, натисніть SSO Settings, а потім Enable.

Це перенесе вас до майстра в один клік, який створить ваш API-ключ, відправить його на ваш WordPress інсталяцію та увімкне SSO. Ми об'єднали це в один клік для вашої зручності.

Зверніть увагу, що якщо ви встановлюєте плагін уперше, вам доведеться завершити процес налаштування перш ніж ви побачите сторінку адміністратора з кнопкою SSO Settings.

#### WordPress SSO - Moderators

Зверніть увагу, що наразі, щоб поруч з вашими модераторами відображався значок "Moderator" під час коментування через плагін FastComments для WordPress, їх також потрібно додати як Moderator в панелі керування FastComments і підтвердити їхню електронну пошту.

### Custom Integrations

Для користувацьких інтеграцій є два варіанти.

### Option One - Secure SSO

З Secure SSO FastComments знає, що користувач, який коментує, голосує та читає коментарі, є реальним користувачем на вашому сайті.

Поки ви створюєте дійсний payload, користувач завжди матиме безшовний досвід коментування.

З Secure SSO SSO payload створюється **на стороні сервера** з використанням HMAC-автентифікації, а потім передається віджету на **клієнті**.

З Secure SSO акаунт користувача є **повністю відокремленим** від решти бази користувачів FastComments. Це означає, що якщо у нас є два партнери Company A і Company B, кожен може мати SSO-користувача з ім'ям користувача "Bob".

#### Requirements
- Базові знання бекенд-розробки.
- Базові знання роботи з секретними API-ключами.
- Базові знання розробки API або рендерингу на стороні сервера.

#### Pros
- Захищено.
- Безшовний досвід коментування.

#### Cons
- Потребує розробки на бекенді.

#### Updating User Data

З Secure SSO щоразу, коли ви передаєте sso user payload, ми оновлюємо їхній акаунт з останньою інформацією. Наприклад, якщо
у користувача було ім'я користувача `X`, а ви передаєте `Y` в SSO payload, їхнє ім'я користувача стане `Y`.

Якщо ви хочете видалити значення, використовуючи цей підхід, то встановіть їх у `null` (не `undefined`).

#### Secure SSO API

Ми також надаємо API для взаємодії з SSO-користувачами. Див. [the docs](/guide-api.html#sso-user-structure).

Зверніть увагу, що при використанні Secure SSO користувачі автоматично створюються за лаштунками при завантаженні сторінки. Вам не потрібно масово імпортувати ваших користувачів.

### Option Two - Simple SSO

Альтернативою Secure SSO є просто передача інформації про користувача віджету коментарів.

Надання електронної пошти в Simple SSO не є обов'язковим, проте без неї їхні коментарі відображатимуться як "Unverified".

<sup>Увага!</sup> Починаючи з початку 2022 року імена користувачів у Simple SSO не повинні бути унікальними по всьому FastComments.com.

Ідеально, якщо Simple SSO обирають тільки при розробці на платформі, яка не надає доступу до бекенду.

#### Requirements
- Базові знання клієнтської розробки.
- Потрібно знати принаймні електронну пошту користувача.

#### Pros
- Просто.
- Вся активність все ще перевіряється.
- Користувач ніколи не вводить своє ім'я користувача або електронну пошту.

#### Cons
- Менш безпечно, ніж Secure SSO, оскільки payload на клієнті може бути підроблений, щоб стати будь-яким користувачем.

#### Simple SSO API

Користувачі, автоматично створені через Simple SSO, зберігаються як об'єкти `SSOUser`. До них можна отримати доступ і керувати ними через API `SSOUser`. Див. [the docs](/guide-api.html#sso-user-structure).

---