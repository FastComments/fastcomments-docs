---
Поскольку email-шаблоны поддерживают переменные и логику, возможно создать шаблоны, которые не удаётся отрендерить или которые иногда дают сбой при рендеринге.

Это может быть очень тяжело диагностировать и отлаживать, особенно если это периодическая проблема или если она возникает только тогда, когда данные выглядят определённым образом.

Чтобы помочь, FastComments Email Templates имеет несколько возможностей:

1. Если шаблон не удаётся предварительно просмотреть, его нельзя сохранить. Появится сообщение об ошибке.
2. Сбои рендеринга шаблонов отслеживаются и отображаются в административном интерфейсе.

Второй пункт описывает сбои рендеринга, которые происходят в продакшене. То есть вы создаёте шаблон, который в предпросмотре выглядит нормально - но позже по какой‑то причине начинает давать сбой. Например, если в нашем шаблоне есть следующее:

    <% if (comment.commenterEmail.includes('test') { %>

Это иногда может приводить к ошибке, если у нас включено анонимное комментирование, поскольку email будет не всегда доступен. Так как же об этом узнать?

Ответ в том, что об ошибках сообщается в двух местах. Сначала сам список шаблонов показывает счётчик ошибок рендеринга для каждого шаблона.

Затем, при просмотре шаблона, мы можем увидеть для каждой ошибки количество раз, когда шаблон не удалось отрендерить.

Рядом с каждой ошибкой и её счётчиком находится кнопка сброса, чтобы мы могли обнулить счётчик после того, как решили проблему.

---