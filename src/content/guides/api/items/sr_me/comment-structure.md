Објекат `Comment` представља коментар који је оставио корисник.

Веза између родитељских и подређених коментара дефинише се преко `parentId`.

Структура за Comment објекат је следећа:

[inline-code-attrs-start title = 'Структура коментара'; type = 'typescript'; isFunctional = false; inline-code-attrs-end]
[inline-code-start]
interface Comment {
    /** READONLY: Поставити на true ако је спам механизам утврдио да је коментар спам. **/
    aiDeterminedSpam?: boolean
    /** Да ли је коментар одобрен за приказ. Поставити на true приликом чувања коментара, иначе ће бити скривен. **/
    approved?: boolean
    /** Аватар корисника. **/
    avatarSrc?: string
    /** Подређени коментари. Нису попуњавани у свим сценаријима. Користи се када је asTree постављено на true преко API-ја. **/
    children: Comment[]
    /** Сирови текст коментара аутора. **/
    comment: string
    /** READONLY: Коментар аутора парсиран у HTML. **/
    commentHTML?: string
    /** Е-пошта аутора. Захтевана ако је анонимно коментарисање искључено. **/
    commenterEmail?: string
    /** Линк аутора (на пример, њихов блог). **/
    commenterLink?: string
    /** Име аутора. Увек обавезно. Ако није доступно, поставити нешто као "Anonymous". **/
    commenterName: string
    /** Датум када је коментар остављен, у UTC епохи. **/
    date: number
    /** "Приказна ознака" за коментар - на пример "Admin", "Moderator", или нешто као "VIP User". **/
    displayLabel?: string
    /** Домен на ком је коментар објављен. **/
    domain?: string
    /** READONLY: Број пута колико је коментар пријављен. **/
    flagCount?: number
    /** Хештегови написани у коментару који су успешно парсирани. Можете и ручно додати хештегове, за упите, али они се неће аутоматски приказати у тексту коментара. **/
    hashTags?: CommentHashTag[]
    /** READONLY: Да ли коментар садржи слике? **/
    hasImages?: boolean
    /** READONLY: Да ли коментар садржи линкове? **/
    hasLinks?: boolean
    /** READONLY: Јединствени id коментара. **/
    id: string
    /** Само приликом креирања! Ово се хешира за похрану. **/
    ip?: string
    /** READONLY: Да ли је тренутни корисник блокирао корисника који је написао овај коментар? **/
    isBlocked?: boolean
    /** READONLY: Да ли је коментар од администратора? Аутоматски се поставља на основу userId. **/
    isByAdmin?: boolean
    /** READONLY: Да ли је коментар од модератора? Аутоматски се поставља на основу userId. **/
    isByModerator?: boolean
    /** Поставити на true ако је коментар делимично обрисан (морао је остати плейсхолдер због неке друге конфигурације). **/
    isDeleted?: boolean
    /** Поставити на true ако је кориснички налог обрисан, а коментар је морао бити сачуван. **/
    isDeletedUser?: boolean
    /** READONLY: Да ли је коментар пријавио тренутно пријављени корисник (contextUserId)? **/
    isFlagged?: boolean
    /** Да ли је коментар прикачен? **/
    isPinned?: boolean
    /** Да ли је коментар закључан за нове одговоре (модератори и даље могу одговарати)? **/
    isLocked?: boolean
    /** Да ли је коментар спам? **/
    isSpam?: boolean
    /** READONLY: Да ли је коментар означен негативним гласом од стране тренутног корисника (contextUserId)? **/
    isVotedDown?: boolean
    /** READONLY: Да ли је коментар означен позитивним гласом од стране тренутног корисника (contextUserId)? **/
    isVotedUp?: boolean
    /** Локал у којем је коментар. Ако није наведен, биће изведено из Accept-Language HTTP заглавља. **/
    locale?: 'de_de' | 'en_us' | 'es_es' | 'fr_fr' | 'it_it' | 'ja_jp' | 'ko_kr' | 'pl_pl' | 'pt_br' | 'ru_ru' | 'tr_tr' | 'zh_cn' | 'zh_tw'
    /** READONLY: @помене написане у коментару које су успешно парсиране. **/
    mentions?: CommentUserMention[]
    /** Опционални метаподаци повезани са коментаром. **/
    meta?: Record<string, string | number | boolean>
    /** Опционална листа модерацијских група id-јева повезаних са овим коментаром. **/
    moderationGroupIds?: string[]|null
    /** READONLY: ID објекта гласа који одговара гласу тренутног корисника (contextUserId) за овај коментар. **/
    myVoteId?: string
    /** Да ли су обавештења послата за овај коментар коментаторима. Да бисте спречили слање обавештења при увозу, поставите ово на true. **/
    notificationSentForParent?: boolean
    /** Да ли су обавештења послата за овај коментар tenant корисницима. Да бисте спречили слање обавештења при увозу, поставите ово на true. **/
    notificationSentForParentTenant?: boolean
    /** Наслов странице на којој је овај коментар. **/
    pageTitle?: string
    /** Ако одговарамо на коментар, ово је ID на који одговарамо. **/
    parentId?: string|null
    /** Да ли је коментар означен као прегледан. **/
    reviewed: boolean
    /** ID тенанта коме коментар припада. **/
    tenantId: string
    /** Корисник који је написао коментар. Аутоматски се креира када се коментар сачува са именом/е-поштом. **/
    userId?: string|null
    /** URL локације на којој је овај коментар видљив, као на пример блог пост. **/
    url: string
    /** "Очишћена" верзија urlId коју сте нам проследили. При чувању специфичирате ово поље, али када вратите коментар ово ће бити "очишћено" и ваша оригинална вредност премештена у "urlIdRaw". **/
    urlId: string
    /** READONLY: Оригинални urlId који сте нам проследили. **/
    urlIdRaw?: string
    /** Да ли је корисник и овај коментар верификован? **/
    verified: boolean
    /** Број позитивних гласова. **/
    votesUp?: number
    /** Број негативних гласова. **/
    votesDown?: number
    /** "Карма" коментара (= гласови за - гласови против). **/
    votes?: number
}
[inline-code-end]

Нека од ових поља су означена као `READONLY` - она се враћају преко API-ја али не могу бити подешена.

### Структура текста коментара

Коментари су написани у FastComments верзији markdown-а, што је обичан markdown плус традиционални `bbcode` стил тагова за слике, као што су `[img]path[/img]`.

Текст је складиштен у два поља. Текст који је корисник унео је сачуван неизмењен у пољу `comment`. Ово се рендерује и чува у пољу `commentHTML`.

Дозвољени HTML тагови су `b, u, i, strike, pre, span, code, img, a, strong, ul, ol, li, and br`.

Препоручује се рендеровање HTML-а, с обзиром на то да је то веома мали подсет HTML-а, прављење renderer-а је прилично једноставно. Постоји више библиотека за React Native и Flutter, на пример, које могу помоћи у томе

Можете изабрати да рендерујете ненормализовану вредност поља `comment`. [Пример parser-а је овде.](https://github.com/FastComments/fastcomments-code-examples/blob/master/custom-client/client/parse-comment.js).

Пример parser-а се такође може прилагодити да ради са HTML-ом и трансформише HTML тагове у очекиване елементе за рендеровање на вашој платформи. 

### Ознаке (Tagging)

Када су корисници означени у коментару, информација се чува у листи која се зове `mentions`. Сваки објекат у тој листи
има следећу структуру.

[inline-code-attrs-start title = 'Објекат помена у коментару'; type = 'typescript'; inline-code-attrs-end]
[inline-code-start]
interface CommentUserMention {
    /** ID корисника. За SSO кориснике, ово ће имати префикс вашег tenant id-а. **/
    id: string
    /** Коначни @mention текст тега, укључујући @ симбол. **/
    tag: string
    /** Оригинални @mention текст тега, укључујући @ симбол. **/
    rawTag: string
    /** Који тип корисника је означен. user = FastComments.com налог. sso = SSOUser. **/
    type: 'user'|'sso'
    /** Ако се корисник определи да не прима обавештења, ово ће и даље бити постављено на true. **/
    sent: boolean
}
[inline-code-end]

### Хештегови

Када се хештеговa користе и успешно парсирају, информација се чува у листи која се зове `hashTags`. Сваки објекат у тој листи
има следећу структуру. Хештегови се такође могу ручно додати у `hashTags` низ коментара за упите, ако је `retain` постављено.

[inline-code-attrs-start title = 'Објекат хештега коментара'; type = 'typescript'; inline-code-attrs-end]
[inline-code-start]
interface CommentHashTag {
    /** ID хештега. **/
    id: string
    /** Коначни #hashtag текст тега, укључујући # симбол. **/
    tag: string
    /** Ако је хештег повезан са прилагођеним URL-ом, ово ће бити дефинисано. **/
    url?: string
    /** Ако треба задржати хештег, чак и ако не постоји у тексту коментара приликом ажурирања. Корисно за означавање коментара без мењања текста коментара. **/
    retain?: boolean
}
[inline-code-end]

---