ウェブサイトにコンテンツを追加し、そのコンテンツを多くの異なる種類のデバイスでレンダリングする場合、セキュリティには複数の側面があります。

### フォーマットの悪用防止

人々は、テキストフォーマットを悪用することで、意図的に視覚的に気を散らせ、議論の価値を損なうコンテンツを書くことができます。

FastCommentsは、フォーマットに関する悪用を防ぐためにいくつかのことを行っています：

- 大きな連続した改行は折りたたまれます。
- 見出しはレンダリングしません（通常のテキストになります）。
- CSSやカスタムカラーは許可しません。

### エクスプロイトの防止

HTMLをレンダリングするシステムでは、エクスプロイトが作成される可能性があります。FastCommentsはこれを防ぐためにいくつかのことを行っています：

- 明示的に定義されたHTMLタグのセットのみを許可します。
- 明示的に定義されたHTMLタグ属性のセットのみを許可します。
- すべての入力を浄化およびサニタイズします。
  - これは[DOMPurify](https://www.npmjs.com/package/dompurify)と[sanitizeHtml](https://www.npmjs.com/package/sanitize-html)ライブラリを通じて行われます。
  - これらのライブラリは十分にテストされている（それぞれ週に400万回以上と100万回以上のダウンロード）ため選択しました。

これは、ユーザーが`<script>`や`<style>`タグを書いたり、画像やその他のコンテンツに`onload=alert()`タイプのスクリプトを追加しようとしたりできないことを意味します。

許可されているHTMLタグは以下の通りです：

- `<b>`
- `<em>`
- `<u>`
- `<i>`
- `<strike>`
- `<pre>`
- `<span>`
- `<code>`
- `<img>`
- `<a>`
- `<strong>`
- `<ul>`
- `<ol>`
- `<li>`
- `<br>`
