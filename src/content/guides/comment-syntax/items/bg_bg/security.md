Има множество аспекти на сигурността, когато позволяваме на хората да добавят съдържание към уебсайт и след това да изобразяваме това съдържание на много различни видове устройства.

### Предотвратяване на злоупотреба с форматиране

Хората могат да пишат съдържание, което е умишлено визуално разсейващо и намалява стойността на дискусиите чрез злоупотреба с форматирането на текст.

FastComments прави редица неща, за да предотврати злоупотреба по отношение на форматирането:

- Големи повтарящи се последователни нови редове се свиват.
- Не изобразяваме заглавия (те стават нормален текст).
- Не позволяваме CSS или персонализирани цветове.

### Предотвратяване на експлойти

Експлойти могат да бъдат създадени в системи, които изобразяват HTML. FastComments прави няколко неща, за да предотврати това:

- Позволяваме само изрично дефиниран набор от HTML тагове.
- Позволяваме само изрично дефиниран набор от атрибути на HTML тагове.
- Пречистваме и санитизираме всички входни данни.
  - Това се прави чрез библиотеките [DOMPurify](https://www.npmjs.com/package/dompurify) и [sanitizeHtml](https://www.npmjs.com/package/sanitize-html).
  - Избрахме тези библиотеки като добре тествани (с над 4 и 1 милиона изтегляния седмично, съответно).

Това означава, че потребителите не могат да правят неща като писане на `<script>` или `<style>` тагове, или да се опитват да добавят `onload=alert()` тип скриптове към изображения или друго съдържание.

HTML таговете, които позволяваме, са следните:

- `<b>`
- `<em>`
- `<u>`
- `<i>`
- `<strike>`
- `<pre>`
- `<span>`
- `<code>`
- `<img>`
- `<a>`
- `<strong>`
- `<ul>`
- `<ol>`
- `<li>`
- `<br>`
