当允许人们向网站添加内容，然后在许多不同类型的设备上呈现该内容时，安全性有多个方面。

### 防止格式滥用

人们可能会编写故意在视觉上分散注意力的内容，并通过滥用文本格式来降低讨论的价值。

FastComments 做了很多事情来防止格式方面的滥用：

- 大量重复的连续换行被折叠。
- 我们不渲染标题（它们变成普通文本）。
- 我们不允许 CSS 或自定义颜色。

### 防止漏洞利用

在渲染 HTML 的系统中可能会创建漏洞利用。FastComments 做了几件事来防止这种情况：

- 我们只允许明确定义的 HTML 标签集。
- 我们只允许明确定义的 HTML 标签属性集。
- 我们净化和清理所有输入。
  - 这是通过 [DOMPurify](https://www.npmjs.com/package/dompurify) 和 [sanitizeHtml](https://www.npmjs.com/package/sanitize-html) 库完成的。
  - 我们选择这些库是因为它们经过良好测试（分别每周有超过 400 万和 100 万次下载）。

这意味着用户不能做诸如编写 `<script>` 或 `<style>` 标签，或尝试向图像或其他内容添加 `onload=alert()` 类型脚本之类的事情。

我们允许的 HTML 标签如下：

- `<b>`
- `<em>`
- `<u>`
- `<i>`
- `<strike>`
- `<pre>`
- `<span>`
- `<code>`
- `<img>`
- `<a>`
- `<strong>`
- `<ul>`
- `<ol>`
- `<li>`
- `<br>`
