### Позиционисање засновано на процентима

Image Chat користи координате засноване на процентима уместо пикселских координата за позиционирање маркера разговора на сликама. Када корисник кликне на слику, виџет претвара пикселске координате клика у проценат ширине и висине слике. Овим приступом се обезбеђује да маркери остану на исправној локацији без обзира на начин на који се слика приказује.

На пример, ако корисник кликне 250 пиксела од леве ивице слике ширине 1000px, виџет то памти као 25% од лева. Када други корисник прегледа исту слику ширине 500px на мобилном уређају, маркер се појави на 125 пиксела од лева, што је и даље 25% ширине.

### Предности за адаптивне распореде

Овај процентуални систем омогућава да Image Chat неприметно функционише на свим величинама уређаја и оријентацијама. Ваше слике могу бити приказане у различитим величинама у зависности од ширине екрана, CSS правила или ограничења контејнера, али маркери ће увек бити правилно усклађени са предвиђеним локацијама.

Корисници на десктоп рачунарима са великим мониторима виде маркере у истим релативним положајима као и корисници на паметним телефонима са малим екранима. Маркери се пропорционално скалирају заједно са самом сликом.

### Скалирање слике и аспектни однос

Док год ваша слика задржава однос ширине и висине приликом скалирања (што је подразумевано понашање прегледача), маркери засновани на процентима ће остати савршено усклађени. Виџет претпоставља да се слике скалирају пропорционално и израчунава позиције на основу те претпоставке.

Ако примените CSS који деформише аспектни однос слике (на пример коришћењем `object-fit: cover` са специфичним димензијама), позиције маркера можда неће бити правилно усклађене. За најбоље резултате, дозволите сликама да се природно скалирају или користите `object-fit: contain` да бисте одржали аспектни однос.

### Величина квадрата маркера

Визуелна величина маркера за разговор такође је заснована на процентима. Опција конфигурације `chatSquarePercentage` је по подразумеваном 5%, што значи да је сваки квадрат 5% ширине слике. Ово обезбеђује конзистентну визуелну тежину на различитим величинама слика.

На слици ширине 1000px са подразумеваном вредношћу 5%, маркери су квадратни и имају 50px. На слици ширине 500px, исти маркери су квадратни и имају 25px. Они остају пропорционални величини слике.

### Понашање на мобилним уређајима

На екранима ширине мање од 768px, Image Chat прелази у мобилно оптимизован распоред. Прозори за разговор се отварају преко целог екрана уместо да леже поред маркера. Ово пружа бољу употребљивост на малим екранима где би плавајући прозори прекрили превише слике.

Сами маркери остају видљиви и кликабилни на својим процентуалним позицијама. Корисници и даље могу видети где су све дискусије и додирнути маркере да би отворили интерфејс за разговор преко целог екрана.

### Динамичко учитавање слика

Процентуални систем ради исправно чак и када се слике учитавају асинхроно или мењају величину након учитавања странице. Виџет прати елемент слике и пресликава позиције маркера кад год се димензије слике промене.

Ако користите одложено учитавање (lazy-loading) слика или имплементирате адаптивне слике са различитим величинама на различитим тачкама прелома, маркери се аутоматски прилагођавају када се величина слике промени.

### Конзистентност између уређаја

Пошто се координате чувају као проценти у бази података, дискусија створена на десктоп рачунару појављује се на истој релативној локацији када се гледа на таблету или телефону. Корисници могу сарађивати преко уређаја без неусклађености позиционирања.

Ово функционише двосмерно. Дискусија створена додиром на одређену тачку на мобилном уређају појавиће се на истом релативном месту када се прегледа на великом десктоп монитору.

### Разматрања везана за viewport

Виџет израчунава проценте у односу на сам елемент слике, а не у односу на viewport. То значи да скроловање странице или мењање величине прозора прегледача не утиче на позиције маркера. Маркери остају причвршћени за своје локације на слици без обзира на промене viewport-а.

### Припрема садржаја за будућност

Процентуални приступ чини ваше дискусије о сликама отпорним на измене распореда, дизајна или екосистема уређаја. Како се појављују нове величине екрана и уређаји, постојеће дискусије ће наставити да се исправно приказују без потребе за било каквим ажурирањима или миграцијама.