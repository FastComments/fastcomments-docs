### Τοποθέτηση με Βάση τα Ποσοστά

Image Chat χρησιμοποιεί συντεταγμένες με βάση τα ποσοστά αντί για εικονοστοιχεία για να τοποθετεί τους δείκτες συνομιλίας πάνω στις εικόνες. Όταν ένας χρήστης κάνει κλικ σε μια εικόνα, το widget μετατρέπει τις συντεταγμένες σε pixels του κλικ σε ποσοστά του πλάτους και του ύψους της εικόνας. Αυτή η προσέγγιση εξασφαλίζει ότι οι δείκτες παραμένουν στη σωστή θέση ανεξάρτητα από τον τρόπο εμφάνισης της εικόνας.

Για παράδειγμα, αν ένας χρήστης κάνει κλικ 250 pixels από την αριστερή άκρη μιας εικόνας πλάτους 1000px, το widget αποθηκεύει αυτό ως 25% από αριστερά. Όταν άλλος χρήστης δει την ίδια εικόνα σε πλάτος 500px σε κινητή συσκευή, ο δείκτης εμφανίζεται 125 pixels από αριστερά, που είναι και πάλι 25% του πλάτους.

### Οφέλη για ανταποκρινόμενες διατάξεις

Αυτό το σύστημα ποσοστών κάνει το Image Chat να λειτουργεί απρόσκοπτα σε όλα τα μεγέθη και τις προσανατολισμούς συσκευών. Οι εικόνες σας μπορεί να εμφανίζονται σε διαφορετικά μεγέθη ανάλογα με το πλάτος της οθόνης, τους κανόνες CSS ή τους περιορισμούς του container, αλλά οι δείκτες πάντα ευθυγραμμίζονται σωστά με τις προβλεπόμενες θέσεις.

Οι χρήστες σε επιτραπέζιους υπολογιστές με μεγάλες οθόνες βλέπουν τους δείκτες στις ίδιες σχετικές θέσεις με τους χρήστες σε smartphones με μικρές οθόνες. Οι δείκτες κλιμακώνονται αναλογικά μαζί με την ίδια την εικόνα.

### Κλίμακα εικόνας και αναλογία διαστάσεων

Εφόσον η εικόνα σας διατηρεί την αναλογία διαστάσεων κατά την κλιμάκωση (που είναι η προεπιλεγμένη συμπεριφορά του browser), οι δείκτες με βάση τα ποσοστά θα παραμείνουν τέλεια ευθυγραμμισμένοι. Το widget υποθέτει ότι οι εικόνες κλιμακώνονται αναλογικά και υπολογίζει τις θέσεις βασιζόμενο σε αυτή την υπόθεση.

Αν εφαρμόσετε CSS που παραμορφώνει την αναλογία διαστάσεων της εικόνας (όπως η χρήση του `object-fit: cover` με συγκεκριμένες διαστάσεις), οι θέσεις των δεικτών ενδέχεται να μην ευθυγραμμίζονται σωστά. Για καλύτερα αποτελέσματα, επιτρέψτε στις εικόνες να κλιμακώνονται φυσικά ή χρησιμοποιήστε `object-fit: contain` για να διατηρήσετε την αναλογία διαστάσεων.

### Μέγεθος τετραγώνων συνομιλίας

Το οπτικό μέγεθος των δεικτών συνομιλίας είναι επίσης με βάση τα ποσοστά. Η ρύθμιση `chatSquarePercentage` έχει προεπιλογή 5%, που σημαίνει ότι κάθε τετράγωνο είναι 5% του πλάτους της εικόνας. Αυτό εξασφαλίζει σταθερό οπτικό βάρος σε διαφορετικά μεγέθη εικόνων.

Σε μια εικόνα πλάτους 1000px με την προεπιλεγμένη ρύθμιση 5%, οι δείκτες είναι τετράγωνα 50px. Σε εικόνα πλάτους 500px, οι ίδιοι δείκτες είναι τετράγωνα 25px. Παρέχουν αναλογικότητα σε σχέση με το μέγεθος της εικόνας.

### Συμπεριφορά σε κινητά

Σε οθόνες κάτω από 768px πλάτος, το Image Chat μεταβαίνει σε διάταξη βελτιστοποιημένη για κινητά. Τα παράθυρα συνομιλίας ανοίγουν σε πλήρη οθόνη αντί να αιωρούνται δίπλα από τον δείκτη. Αυτό προσφέρει καλύτερη χρηστικότητα σε μικρές οθόνες όπου τα αιωρούμενα παράθυρα θα κάλυπταν υπερβολικό μέρος της εικόνας.

Οι ίδιοι οι δείκτες παραμένουν ορατοί και κλικαρίσιμοι στις ποσοστιαίες θέσεις τους. Οι χρήστες μπορούν ακόμα να βλέπουν πού βρίσκονται όλες οι συζητήσεις και να πατήσουν τους δείκτες για να ανοίξουν τη διεπαφή συνομιλίας σε πλήρη οθόνη.

### Δυναμική φόρτωση εικόνας

Το σύστημα με βάση τα ποσοστά λειτουργεί σωστά ακόμη και όταν οι εικόνες φορτώνουν ασύγχρονα ή αλλάζουν μέγεθος μετά τη φόρτωση της σελίδας. Το widget παρακολουθεί το στοιχείο εικόνας και επαναϋπολογίζει τις θέσεις των δεικτών κάθε φορά που αλλάζουν οι διαστάσεις της εικόνας.

Αν χρησιμοποιείτε lazy-loading εικόνων ή εφαρμόζετε responsive εικόνες με διαφορετικά μεγέθη σε διαφορετικά breakpoints, οι δείκτες προσαρμόζονται αυτόματα όταν αλλάζει το μέγεθος της εικόνας.

### Συνέπεια ανά συσκευές

Επειδή οι συντεταγμένες αποθηκεύονται ως ποσοστά στη βάση δεδομένων, μια συζήτηση που δημιουργήθηκε σε επιτραπέζιο υπολογιστή εμφανίζεται στην ακριβώς ίδια σχετική θέση όταν προβάλλεται σε tablet ή τηλέφωνο. Οι χρήστες μπορούν να συνεργάζονται μεταξύ συσκευών χωρίς ασυνέπειες στη τοποθέτηση.

Αυτό λειτουργεί και στις δύο κατευθύνσεις. Μια συζήτηση που δημιουργήθηκε πατώντας ένα συγκεκριμένο σημείο σε κινητή συσκευή εμφανίζεται στην ίδια σχετική θέση όταν προβληθεί σε μεγάλη οθόνη desktop.

### Σκέψεις σχετικά με το viewport

Το widget υπολογίζει τα ποσοστά σε σχέση με το ίδιο το στοιχείο της εικόνας, όχι το viewport. Αυτό σημαίνει ότι το σκρόλλινγκ της σελίδας ή η αλλαγή στο μέγεθος του παραθύρου του browser δεν επηρεάζει τις θέσεις των δεικτών. Οι δείκτες παραμένουν αγκιστρωμένοι στις θέσεις τους πάνω στην εικόνα ανεξάρτητα από τις αλλαγές του viewport.

### Εξασφάλιση μελλοντικής συμβατότητας του περιεχομένου

Η προσέγγιση με βάση τα ποσοστά καθιστά τις συζητήσεις στις εικόνες ανθεκτικές σε αλλαγές στη διάταξη, το σχεδιασμό ή το οικοσύστημα των συσκευών. Καθώς εμφανίζονται νέα μεγέθη οθονών και συσκευές, οι υπάρχουσες συζητήσεις θα συνεχίσουν να εμφανίζονται σωστά χωρίς να απαιτούνται ενημερώσεις ή μεταφορές.