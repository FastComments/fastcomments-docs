Настройването на SAML удостоверяване в FastComments изисква конфигурация както в администраторския ви панел, така и настройка във вашия доставчик на идентичност.

### Предпоставки

Преди да конфигурирате SAML, уверете се, че имате:

- A FastComments Flex or Pro plan (SAML is not available on the Creators plan)
- Административен достъп до вашия акаунт в FastComments
- Административен достъп до вашия доставчик на идентичност
- SAML метаданни или информация за сертификат на вашия IdP

### Достъп до конфигурацията на SAML

1. Впишете се в вашия [FastComments admin dashboard](https://fastcomments.com/auth/my-account)
2. Отидете на **API/SSO Settings** в лявата странична лента
3. Натиснете бутона **SAML Config**

Ако не виждате бутона SAML Config, проверете дали:
- Акаунтът ви има необходимия пакет (Flex или Pro)
- Имате административни разрешения
- Потребителят ви има роли API Admin или Admin Admin

### Основна конфигурация на SAML

#### Enable SAML Authentication

1. Поставете отметка в квадратчето **Enable SAML Authentication**
2. Това активира SAML за вашия наемател и прави полетата за конфигурация достъпни

#### Required Fields

**IdP Single Sign-On URL** *(Required)*
- URL адресът, към който потребителите ще бъдат пренасочени за удостоверяване
- Обикновено се предоставя от вашия доставчик на идентичност
- Пример: `https://your-company.okta.com/app/fastcomments/sso/saml`

**IdP X.509 Certificate** *(Required)*
- Публичният сертификат от вашия доставчик на идентичност
- Използва се за проверка на автентичността на SAML отговорите
- Трябва да включва пълния сертификат с маркери BEGIN/END
- Примерен формат:
```
-----BEGIN CERTIFICATE-----
MIICXjCCAcegAwIBAgIBADANBgkqhkiG9w0BAQsFADA...
-----END CERTIFICATE-----
```

#### Optional Fields

**IdP Entity ID / Issuer**
- Идентифицира вашия доставчик на идентичност
- Ако е оставено празно, по подразбиране използва вашия FastComments URL
- Трябва да съвпада с издателя, конфигуриран във вашия IdP

### Разширена конфигурация

#### Security Settings

**Signature Algorithm**
- По подразбиране SHA-256 (препоръчително)
- Възможности: SHA-1, SHA-256, SHA-512
- Трябва да съвпада с конфигурацията на вашия IdP

**Digest Algorithm**
- По подразбиране SHA-256 (препоръчително)
- Използва се за изчисляване на дайджест в SAML отговорите
- Трябва да съвпада с конфигурацията на вашия IdP

**Name ID Format**
- По подразбиране формат Email Address
- Определя как са форматирани идентификаторите на потребителите
- Чести опции: Email Address, Persistent, Transient

#### Encryption (Optional)

**Private Key for Decryption**
- Нужен само ако вашият IdP шифрова SAML assertions
- Поставете вашия частен ключ, използван за декрипция
- Повечето внедрявания не изискват шифроване на assertions

### Запазване на конфигурацията

1. Прегледайте всички настройки за точност
2. Натиснете **Save SAML Configuration**
3. Системата ще валидира вашата конфигурация
4. Ако е успешна, ще видите потвърждащо съобщение

### Следващи стъпки

След като запазите SAML конфигурацията във FastComments:

1. Конфигурирайте вашия доставчик на идентичност, използвайки информацията за Service Provider
2. Тествайте потока на удостоверяване
3. Настройте роли и разрешения на потребителите, ако е необходимо

Информацията за Service Provider, необходима за конфигурацията на вашия IdP, ще бъде показана веднага щом SAML бъде активиран.