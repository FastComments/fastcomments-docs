Όταν το SAML είναι ενεργοποιημένο στο FastComments, το σύστημα δημιουργεί αυτόματα πληροφορίες Service Provider (SP) που χρειάζεστε να διαμορφώσετε στον πάροχο ταυτότητας σας.

### Πρόσβαση σε πληροφορίες Service Provider

Οι πληροφορίες SP εμφανίζονται στη σελίδα ρυθμίσεων SAML μετά την ενεργοποίηση του SAML authentication. Αυτές οι πληροφορίες περιλαμβάνουν όλες τις λεπτομέρειες που χρειάζεται ο πάροχος ταυτότητας σας για να καθιερώσει τη σχέση εμπιστοσύνης SAML.

### Endpoints του Service Provider

#### SP Entity ID / Audience
**Σκοπός**: Αναγνωρίζει μοναδικά το instance FastComments σας ως πάροχο υπηρεσίας  
**Μορφή**: `https://fastcomments.com/saml/{your-tenant-id}`  
**Χρήση**: Διαμορφώστε αυτό ως Entity ID ή Audience στον IdP σας

Αυτός ο αναγνωριστικός διασφαλίζει ότι οι SAML απαντήσεις προορίζονται για τον συγκεκριμένο tenant του FastComments σας και αποτρέπει την αποδοχή SAML απαντήσεων από άλλα instances.

#### Assertion Consumer Service (ACS) URL
**Σκοπός**: Το endpoint όπου ο IdP σας στέλνει τις SAML απαντήσεις μετά την αυθεντικοποίηση του χρήστη  
**Μορφή**: `https://fastcomments.com/saml/callback/{your-tenant-id}`  
**Χρήση**: Διαμορφώστε αυτό ως ACS URL ή Reply URL στον IdP σας

Εδώ ανακατευθύνονται οι χρήστες μετά από επιτυχή αυθεντικοποίηση με τον πάροχο ταυτότητας σας, μαζί με την SAML assertion που περιέχει πληροφορίες χρήστη.

#### SP Metadata URL
**Σκοπός**: Παρέχει πλήρη SAML διαμόρφωση σε τυπική μορφή XML  
**Μορφή**: `https://fastcomments.com/saml/metadata/{your-tenant-id}`  
**Χρήση**: Ορισμένοι IdP μπορούν να εισάγουν αυτόματα τη διαμόρφωση χρησιμοποιώντας αυτό το URL

Το metadata URL περιέχει όλες τις αναγκαίες πληροφορίες SP σε μορφή XML, καθιστώντας εύκολη τη διαμόρφωση συμβατών παρόχων ταυτότητας αυτόματα.

#### SAML Login URL
**Σκοπός**: Άμεσος σύνδεσμος για την έναρξη της SAML αυθεντικοποίησης για τον tenant σας  
**Μορφή**: `https://fastcomments.com/saml/login/{your-tenant-id}`  
**Χρήση**: Συνδέστε τους χρήστες απευθείας στη SAML αυθεντικοποίηση ή δοκιμάστε τη ροή

Μπορείτε να χρησιμοποιήσετε αυτό το URL για να δοκιμάσετε την SAML αυθεντικοποίηση ή να παρέχετε στους χρήστες άμεσο σύνδεσμο για σύνδεση μέσω SAML.

### Υποστήριξη SAML Binding

Το FastComments υποστηρίζει τα ακόλουθα SAML bindings:

#### HTTP-POST Binding
- **Κύρια Μέθοδος**: Το πιο κοινό binding για SAML απαντήσεις  
- **Ασφάλεια**: Η SAML απάντηση αποστέλλεται μέσω HTTP POST στο ACS URL  
- **Χρήση**: Συνιστάται για παραγωγικές αναπτύξεις

#### HTTP-Redirect Binding
- **Εναλλακτική Μέθοδος**: Η SAML απάντηση αποστέλλεται μέσω HTTP redirect  
- **Περιορισμοί**: Περιορισμένο μέγεθος payload λόγω περιορισμών μήκους URL  
- **Χρήση**: Υποστηρίζεται, αλλά προτιμάται το HTTP-POST

### Πολιτική Name ID

Το FastComments διαμορφώνει την ακόλουθη πολιτική Name ID στα SAML αιτήματα:

- **Προεπιλεγμένη Μορφή**: `urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress`  
- **Εναλλακτικές Μορφές**: Persistent, Transient, Unspecified (ρυθμιζόμενες)  
- **Απαίτηση**: Η διεύθυνση email χρησιμοποιείται ως ο κύριος αναγνωριστής χρήστη

### Attributes στα SAML Requests

Κατά την εκκίνηση της SAML αυθεντικοποίησης, το FastComments στέλνει αιτήματα με τα εξής χαρακτηριστικά:

#### Υπογραφή Αιτήματος
- **Κατάσταση**: Προαιρετικό (ρυθμιζόμενο)  
- **Αλγόριθμος**: Ταιριάζει με τον ρυθμισμένο αλγόριθμο υπογραφής  
- **Πιστοποιητικό**: Χρησιμοποιεί πιστοποιητικό ειδικό για τον tenant εάν η υπογραφή αιτήματος είναι ενεργοποιημένη

#### Ζητούμενα Attributes
Το FastComments ζητά τα ακόλουθα attributes σε SAML AuthnRequests:

- **Email**: Απαραίτητο για αναγνώριση χρήστη  
- **First Name**: Προαιρετικό για σκοπούς εμφάνισης  
- **Last Name**: Προαιρετικό για σκοπούς εμφάνισης  
- **Roles/Groups**: Προαιρετικό για έλεγχο πρόσβασης και δικαιώματα

### Αντιγραφή πληροφοριών SP

Η σελίδα διαμόρφωσης SAML παρέχει πεδία που μπορούν να κλικάρονται και αντιγράφουν αυτόματα τις πληροφορίες SP στο πρόχειρο (clipboard):

1. Κάντε κλικ σε οποιοδήποτε πεδίο πληροφοριών SP (Entity ID, ACS URL, κ.λπ.)  
2. Η τιμή αντιγράφεται αυτόματα στο πρόχειρό σας  
3. Επικολλήστε την τιμή στη διαμόρφωση του παρόχου ταυτότητας σας  
4. Μια σύντομη επισήμανση υποδεικνύει την επιτυχή αντιγραφή

Αυτό διευκολύνει τη σωστή μεταφορά των πληροφοριών SP στον IdP σας χωρίς λάθη πληκτρολόγησης.

### Πληροφορίες Πιστοποιητικού SP

#### Χρήση Πιστοποιητικού
- **Σκοπός**: Κρυπτογραφεί τις επικοινωνίες και επαληθεύει την ταυτότητα του SP  
- **Περιστροφή**: Τα πιστοποιητικά διαχειρίζονται αυτόματα από το FastComments  
- **Πρόσβαση**: Τα δημόσια πιστοποιητικά είναι διαθέσιμα μέσω του metadata URL

#### Λεπτομέρειες Πιστοποιητικού
- **Αλγόριθμος**: RSA-2048 ή υψηλότερος  
- **Ισχύς**: Τα πιστοποιητικά ανανεώνονται αυτόματα πριν την λήξη  
- **Διανομή**: Διατίθενται μέσω τυπικού SAML metadata

### Αντιμετώπιση προβλημάτων διαμόρφωσης SP

Εάν ο πάροχος ταυτότητάς σας αναφέρει προβλήματα με τις πληροφορίες SP:

1. **Επαληθεύστε τα URLs**: Βεβαιωθείτε ότι όλα τα URLs χρησιμοποιούν HTTPS και περιλαμβάνουν το σωστό tenant ID  
2. **Ελέγξτε το Metadata**: Χρησιμοποιήστε το metadata URL για να επαληθεύσετε τη διαμόρφωση  
3. **Δοκιμάστε τη Συνδεσιμότητα**: Βεβαιωθείτε ότι ο IdP σας μπορεί να προσεγγίσει τα endpoints του FastComments  
4. **Επικυρώστε τη Μορφή**: Επιβεβαιώστε ότι ο IdP σας υποστηρίζει τη μορφή πληροφοριών SP

Συνηθισμένα προβλήματα περιλαμβάνουν:
- Λανθασμένο tenant ID στα URLs  
- Προβλήματα δικτύου μεταξύ του IdP και του FastComments  
- Ο IdP να αναμένει διαφορετικά formats URL ή επιπλέον επιλογές διαμόρφωσης