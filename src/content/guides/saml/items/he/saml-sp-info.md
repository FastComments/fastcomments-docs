כאשר SAML מופעל ב-FastComments, המערכת יוצרת אוטומטית מידע של ספק שירות (SP) שעליך להגדיר בספק הזהות שלך.

### גישה למידע של ספק השירות

מידע ה-SP מוצג בעמוד התצורה של SAML לאחר הפעלת אימות SAML. מידע זה כולל את כל הפרטים שספק הזהות שלך צריך כדי להקים את יחס האמון ב-SAML.

### נקודות קצה של ספק השירות

#### SP Entity ID / Audience
**מטרה**: מזהה באופן ייחודי את מופע FastComments שלך כספק שירות  
**פורמט**: `https://fastcomments.com/saml/{your-tenant-id}`  
**שימוש**: הגדר זאת כ-Entity ID או Audience ב-IdP שלך

מזהה זה מבטיח שתשובות SAML מיועדות לשוכר FastComments הספציפי שלך ומונע קבלת תשובות SAML על ידי מופעים אחרים.

#### Assertion Consumer Service (ACS) URL
**מטרה**: נקודת הקצה שאליה ספק הזהות (IdP) שולח תשובות SAML לאחר אימות המשתמש  
**פורמט**: `https://fastcomments.com/saml/callback/{your-tenant-id}`  
**שימוש**: הגדר זאת כ-ACS URL או Reply URL ב-IdP שלך

זה המקום שאליו המשתמשים מועברים לאחר אימות מוצלח עם ספק הזהות שלך, יחד עם ה-SAML assertion המכיל מידע על המשתמש.

#### SP Metadata URL
**מטרה**: מספק תצורת SAML מלאה בפורמט XML סטנדרטי  
**פורמט**: `https://fastcomments.com/saml/metadata/{your-tenant-id}`  
**שימוש**: חלק מספקי הזהות יכולים לייבא אוטומטית את התצורה באמצעות כתובת URL זו

כתובת המטא-דטה מכילה את כל המידע הנחוץ של ה-SP בפורמט XML, מה שמקל על תצורת ספקי זהות תואמים באופן אוטומטי.

#### SAML Login URL
**מטרה**: קישור ישיר להתחלת אימות SAML עבור השוכר שלך  
**פורמט**: `https://fastcomments.com/saml/login/{your-tenant-id}`  
**שימוש**: קישור משתמשים ישירות לאימות SAML או לבדיקת הזרימה

ניתן להשתמש בכתובת URL זו כדי לבדוק את אימות SAML או לספק למשתמשים קישור ישיר להתחברות דרך SAML.

### תמיכה ב-SAML Binding

FastComments תומך ב-bindings הבאים של SAML:

#### HTTP-POST Binding
- **שיטה עיקרית**: ה-binding השכיח ביותר לתשובות SAML  
- **אבטחה**: תשובת SAML נשלחת באמצעות HTTP POST ל-ACS URL  
- **שימוש**: מומלץ לפריסות בייצור

#### HTTP-Redirect Binding
- **שיטה חלופית**: תשובת SAML נשלחת באמצעות הפניה HTTP  
- **מגבלות**: גודל המטען מוגבל בשל מגבלות אורך ה-URL  
- **שימוש**: נתמך אך HTTP-POST מועדף

### מדיניות Name ID

FastComments מגדיר את מדיניות ה-Name ID הבאה בבקשות SAML:

- **פורמט ברירת מחדל**: `urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress`  
- **פורמטים חלופיים**: Persistent, Transient, Unspecified (ניתנים להגדרה)  
- **דרישה**: כתובת הדוא"ל משמשת כמזהה המשתמש הראשי

### מאפייני בקשת SAML

בעת התחלת אימות SAML, FastComments שולח בקשות עם המאפיינים הבאים:

#### Request Signing
- **סטטוס**: אופציונלי (ניתן להגדרה)  
- **אלגוריתם**: מתאים לאלגוריתם החתימה המוגדר  
- **תעודה**: משתמשת בתעודה ייעודית לשוכר אם חתימת בקשות מופעלת

#### Requested Attributes
FastComments מבקש את המאפיינים הבאים ב-AuthnRequests של SAML:

- **Email**: נדרש לזיהוי המשתמש  
- **First Name**: אופציונלי לצרכי תצוגה  
- **Last Name**: אופציונלי לצרכי תצוגה  
- **Roles/Groups**: אופציונלי לבקרת גישה והרשאות

### העתקת מידע של ספק השירות

עמוד התצורה של SAML מספק שדות ניתנים ללחיצה שמעתיקים אוטומטית את מידע ה-SP אל הלוח שלך:

1. לחץ על כל שדה של מידע SP (Entity ID, ACS URL, וכו')  
2. הערך מועתק אוטומטית ללוח  
3. הדבק את הערך בקונפיגורציית ספק הזהות שלך  
4. הדגשה קצרה מצביעה על העתקה מוצלחת

זה מקל על העברת מידע ה-SP אל ה-IdP שלך ללא שגיאות הקלדה.

### מידע על תעודת ה-SP

#### שימוש בתעודה
- **מטרה**: מצפנת תקשורת ומאמתת את זהות ה-SP  
- **סיבוב (Rotation)**: התעודות מנוהלות אוטומטית על ידי FastComments  
- **גישה**: תעודות ציבוריות זמינות דרך כתובת המטא-דטה

#### פרטי התעודה
- **אלגוריתם**: RSA-2048 או גבוה יותר  
- **תוקף**: התעודות מתחדשות אוטומטית לפני תפוגה  
- **הפצה**: זמינה דרך מטא-דטה סטנדרטי של SAML

### פתרון תקלות בתצורת ה-SP

אם ספק הזהות שלך מדווח על בעיות במידע ה-SP:

1. **אמת את כתובות ה-URL**: ודא שכל הכתובות משתמשות ב-HTTPS וכוללות את ה-tenant ID הנכון  
2. **בדוק את המטא-דטה**: השתמש בכתובת המטא-דטה כדי לאמת את התצורה  
3. **בדוק קישוריות**: ודא שה-IdP שלך יכול להגיע לנקודות הקצה של FastComments  
4. **אמת את הפורמט**: אשר ש-IdP שלך תומך בפורמט המידע של ה-SP

בעיות נפוצות כוללות:
- tenant ID שגוי בכתובות ה-URL  
- בעיות קישוריות רשת בין ה-IdP ל-FastComments  
- IdP שמצפה לפורמטים שונים של כתובות URL או לאפשרויות תצורה נוספות